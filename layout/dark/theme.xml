<?xml version="1.0" encoding="UTF-8"?>
<!--
Theme: Slate ES-X
version: 0.1
author: Reneto
license: CC-BY-NC-SA
-->

<theme>

  <formatVersion>6</formatVersion>
  
  <!-- Metadata global por sistema (fallback + sistema actual) -->
  <include>./_inc/metadata-global/_default.xml</include>
  <include>./_inc/metadata-global/${system.theme}.xml</include>

  <!-- =========================
       SYSTEM VIEW
       ========================= -->
  <view name="system">

    <image name="background" extra="true">
      <path>./layout/dark/wallpaper_system.png</path>
      <pos>0 0</pos>
      <origin>0 0</origin>
      <size>1 1</size>
    </image>

    <image name="logo">
      <path>./_inc/logos/${system.theme}.svg</path>
      <origin>0.5 0.5</origin>
      <pos>0.5 0.241</pos>          <!-- 960/1920, 260/1080 -->
      <maxSize>0.469 0.259</maxSize><!-- 900/1920, 280/1080 -->
    </image>

    <!-- Consola: arriba-izquierda -->
    <image name="console" extra="true">
      <path>./_inc/consoles/${system.theme}.svg</path>
      <origin>0 0</origin>
      <pos>0.021 0.037</pos>        <!-- 40/1920, 40/1080 -->
      <maxSize>0.271 0.241</maxSize><!-- 520/1920, 260/1080 -->
    </image>

    <!-- Control: arriba-derecha -->
    <image name="controller" extra="true">
      <path>./_inc/controller/${system.theme}.svg</path>
      <origin>1 0</origin>
      <pos>0.781 0.037</pos>        <!-- 1500/1920, 40/1080 -->
      <maxSize>0.271 0.241</maxSize>
    </image>

    <!-- =========================
         CONTADORES (Slate-like)
         ========================= -->

    <!-- Favoritos al lado (misma linea, alineado a la derecha del contador) -->
    <text name="systemFavoriteCount" extra="true">
      <origin>0 0.5</origin>
      <pos>0.90 0.06</pos>
      <size>0.4 0.05</size>
      <alignment>left</alignment>
      <fontSize>0.030</fontSize>
      <color>FFFFFFCC</color>
      <text>★ ${system.favoriteCount}</text>
    </text>

    <!-- =========================
         FICHA TECNICA (abajo)
         ========================= -->
    <text name="systemInfoLine1" extra="true">
      <origin>0.5 0</origin>
      <pos>0.5 0.70</pos>
      <size>0.86 0.04</size>
      <alignment>center</alignment>
      <fontSize>0.022</fontSize>
      <color>FFFFFFAA</color>
      <text>${systemManufacturer} • ${systemReleaseYear} • ${systemHardwareType}</text>
    </text>

    <!-- Cache invisible (por si luego querés INFO sin mostrar descripción larga) -->
    <text name="systemDescriptionHidden" extra="true">
      <visible>false</visible>
      <pos>0 0</pos>
      <size>0 0</size>
      <text>${systemDescription}</text>
    </text>

    <helpsystem name="help">
      <iconColor>7d7d7d</iconColor>
      <textColor>7d7d7d</textColor>
    </helpsystem>

  </view>

  <!-- =========================
       NAVIGATION SOUNDS
       ========================= -->
  <feature supported="navigationsounds">
    <view name="all">
      <sound name="systembrowse"><path>./_inc/audio/systembrowse.wav</path></sound>
      <sound name="quicksysselect"><path>./_inc/audio/quicksysselect.wav</path></sound>
      <sound name="select"><path>./_inc/audio/select.wav</path></sound>
      <sound name="back"><path>./_inc/audio/back.wav</path></sound>
      <sound name="scroll"><path>./_inc/audio/scroll.wav</path></sound>
      <sound name="favorite"><path>./_inc/audio/favorite.wav</path></sound>
      <sound name="launch"><path>./_inc/audio/launch.wav</path></sound>
    </view>
  </feature>

  <!-- =========================
       COMMON (ALL GAMELISTS)
       ========================= -->
  <view name="basic, detailed, video, grid, automatic">

    <image name="background" extra="true">
      <path>./layout/dark/wallpaper_gamelist.png</path>
      <pos>0 0</pos>
      <origin>0 0</origin>
      <size>1 1</size>
    </image>

    <image name="logo">
      <path>./_inc/logos/${system.theme}.svg</path>
      <origin>0 0</origin>
      <pos>0.021 0.037</pos>         <!-- 40/1920, 40/1080 -->
      <maxSize>0.271 0.111</maxSize> <!-- 520/1920, 120/1080 -->
    </image>

  </view>

  <!-- =========================
       BASIC
       ========================= -->
  <view name="basic">
    <textlist name="gamelist">
      <fontSize>0.030</fontSize>
      <forceUppercase>false</forceUppercase>
      <size>0.427 0.778</size>       <!-- 820/1920, 840/1080 -->
      <pos>0.021 0.167</pos>         <!-- 40/1920, 180/1080 -->
      <alignment>left</alignment>
      <horizontalMargin>0.010</horizontalMargin>

      <selectorColor>00000040</selectorColor>
      <selectedColor>3082ce</selectedColor>
      <primaryColor>FFFFFFCC</primaryColor>
      <secondaryColor>FFFFFF66</secondaryColor>
    </textlist>
  </view>

  <!-- =========================
       DETAILED + VIDEO (shared)
       ========================= -->
  <view name="detailed, video">

    <textlist name="gamelist">
      <fontSize>0.030</fontSize>
      <forceUppercase>false</forceUppercase>
      <size>0.427 0.778</size>
      <pos>0.021 0.167</pos>
      <alignment>left</alignment>
      <horizontalMargin>0.010</horizontalMargin>

      <selectorColor>00000040</selectorColor>
      <selectedColor>3082ce</selectedColor>
      <primaryColor>FFFFFFCC</primaryColor>
      <secondaryColor>FFFFFF66</secondaryColor>
    </textlist>

    <image name="md_thumbnail"><visible>false</visible></image>
    <image name="md_image"><visible>false</visible></image>

    <text name="md_lbl_releasedate, md_lbl_developer, md_lbl_publisher, md_lbl_genre, md_lbl_players, md_lbl_playcount, md_lbl_lastplayed, md_lbl_rating">
      <fontSize>0.022</fontSize>
      <forceUppercase>false</forceUppercase>
      <color>3082ce</color>
      <visible>true</visible>
    </text>

    <text name="md_developer, md_publisher, md_genre, md_players, md_playcount, md_description">
      <fontSize>0.022</fontSize>
      <forceUppercase>false</forceUppercase>
      <color>FFFFFFCC</color>
      <visible>true</visible>
    </text>

    <datetime name="md_releasedate, md_lastplayed">
      <fontSize>0.022</fontSize>
      <forceUppercase>false</forceUppercase>
      <color>FFFFFFCC</color>
      <visible>true</visible>
    </datetime>

    <rating name="md_rating">
      <size>0 0.024</size>
      <visible>true</visible>
    </rating>

    <!-- Posiciones (convertidas a relativo) -->
    <text name="md_lbl_releasedate"><pos>0.479 0.537</pos></text>
    <datetime name="md_releasedate"><pos>0.583 0.526</pos></datetime>

    <text name="md_lbl_genre"><pos>0.479 0.567</pos></text>
    <text name="md_genre"><pos>0.583 0.567</pos><size>0.083 0.030</size></text>

    <text name="md_lbl_developer"><pos>0.479 0.596</pos></text>
    <text name="md_developer"><pos>0.583 0.596</pos><size>0.396 0.030</size></text>

    <text name="md_lbl_publisher"><pos>0.479 0.626</pos></text>
    <text name="md_publisher"><pos>0.583 0.626</pos><size>0.396 0.030</size></text>

    <text name="md_lbl_players"><pos>0.729 0.537</pos></text>
    <text name="md_players"><pos>0.833 0.537</pos><size>0.146 0.030</size></text>

    <text name="md_lbl_playcount"><pos>0.729 0.567</pos></text>
    <text name="md_playcount"><pos>0.833 0.567</pos><size>0.146 0.030</size></text>

    <text name="md_lbl_lastplayed"><pos>0.729 0.596</pos></text>
    <datetime name="md_lastplayed"><pos>0.833 0.587</pos></datetime>

    <text name="md_lbl_rating"><pos>0.729 0.626</pos></text>
    <rating name="md_rating"><pos>0.833 0.634</pos></rating>

    <text name="md_description">
      <fontSize>0.020</fontSize>
      <size>0.500 0.241</size>   <!-- 960/1920, 260/1080 -->
      <pos>0.479 0.667</pos>     <!-- 920/1920, 720/1080 -->
      <color>FFFFFFCC</color>
      <visible>true</visible>
    </text>

  </view>

  <!-- =========================
       DETAILED (only image)
       ========================= -->
  <view name="detailed">
    <image name="md_image">
      <pos>0.479 0.204</pos>      <!-- 920/1920, 220/1080 -->
      <maxSize>0.500 0.315</maxSize><!-- 960/1920, 340/1080 -->
      <origin>0 0</origin>
      <visible>true</visible>
    </image>
    <image name="md_thumbnail"><visible>false</visible></image>
  </view>

  <!-- =========================
       VIDEO
       ========================= -->
  <view name="video">
    <image name="md_image"><visible>false</visible></image>
    <image name="md_thumbnail"><visible>false</visible></image>

    <video name="md_video">
      <maxSize>0.500 0.315</maxSize>
      <pos>0.729 0.361</pos>      <!-- 1400/1920, 390/1080 -->
      <origin>0.5 0.5</origin>
      <delay>3</delay>
      <showSnapshotNoVideo>true</showSnapshotNoVideo>
      <showSnapshotDelay>true</showSnapshotDelay>
      <visible>true</visible>
    </video>
  </view>

  <!-- =========================
       AUTOMATIC
       ========================= -->
  <view name="automatic">
    <image name="md_thumbnail"><visible>false</visible></image>
  </view>

  <!-- =========================
       GRID
       ========================= -->
  <view name="grid">

    <image name="background" extra="true">
      <path>./layout/dark/wallpaper_gamelist.png</path>
      <pos>0 0</pos>
      <origin>0 0</origin>
      <size>1 1</size>
    </image>

    <imagegrid name="imagegrid">
      <size>0.938 0.778</size>   <!-- 1800/1920, 840/1080 -->
      <pos>0.031 0.167</pos>     <!-- 60/1920, 180/1080 -->
      <margin>0.010 0.010</margin>
      <scrollDirection>vertical</scrollDirection>
    </imagegrid>

    <gridtile name="default">
      <size>0.167 0.243</size>    <!-- 320/1920, 262/1080 -->
      <padding>0.010 0.010</padding>
      <imageColor>FFFFFF88</imageColor>
      <backgroundColor>00000000</backgroundColor>
    </gridtile>

    <gridtile name="selected">
      <size>0.167 0.243</size>
      <padding>0 0</padding>
      <imageColor>FFFFFFFF</imageColor>
      <backgroundColor>00000000</backgroundColor>
    </gridtile>

  </view>

</theme>
